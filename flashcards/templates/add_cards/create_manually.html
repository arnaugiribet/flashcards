{% extends 'base.html' %}

{% block content %}
<div class="container mx-auto mt-8 p-4 max-w-lg bg-white shadow-md rounded-lg">
    <!-- Create Flashcard Title -->
    <h1 class="text-2xl font-semibold text-[#9daca2] mb-6 text-center">Create Flashcard</h1>
    
    <!-- The Form -->
    <form method="post" class="space-y-4">
        {% csrf_token %}
        <div>
            <label for="deck_id" class="block font-medium mb-1">Select Deck</label>
            <select name="deck_id" class="w-full p-2 border rounded" required>
                {% for deck in decks %}
                    <option value="{{ deck.id }}">{{ deck.name }}</option>
                {% endfor %}
            </select>
        </div>
        <div>
            <label for="question" class="block font-medium mb-1">Question</label>
            <input type="text" name="question" class="w-full p-2 border rounded" required>
        </div>
        <div>
            <label for="answer" class="block font-medium mb-1">Answer</label>
            <input type="text" name="answer" class="w-full p-2 border rounded" required>
        </div>
        <button type="submit" class="block w-full bg-[#9daca2] text-white py-2 rounded hover:bg-opacity-90 transition-colors">Add Card</button>
    </form>

    <!-- Toast Notification -->
    {% if messages %}
        <div id="toast" class="fixed left-1/2 transform -translate-x-1/2 bg-[#9daca2] text-white py-3 px-6 rounded-md shadow-lg opacity-0 transition-opacity duration-300 mt-8">
            {% for message in messages %}
                <span>{{ message }}</span>
            {% endfor %}
        </div>
    {% endif %}
</div>

{% endblock %}

{% block extra_js %}
<script>
    // Check if the toast exists and display it with animation
    document.addEventListener("DOMContentLoaded", function() {
        const toast = document.getElementById("toast");
        if (toast) {
            // Show the toast
            toast.classList.remove("opacity-0");
            toast.classList.add("opacity-100");
            
            // Hide the toast after 3 seconds
            setTimeout(function() {
                toast.classList.remove("opacity-100");
                toast.classList.add("opacity-0");
            }, 3000);
        }
    });
</script>
{% endblock %}
